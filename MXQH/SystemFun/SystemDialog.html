<div class="modal-header">
    <h3 class="modal-title">系统功能{{ sys.form.title }}</h3>
</div>
<div class="modal-body wrapper-md" ng-form="SystemForm">
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="form-group pull-in clearfix">
                <div class="col-sm-4" ng-class="{ 'has-error' : SystemForm.No.$invalid }">
                    <label>系统编号</label>
                    <input type="text" class="form-control" name="No" placeholder="系统编号" 
                           ng-model="sys.Item.SysNo" ng-disabled="sys.form.index == 1" ng-blur="sys.isExists()" required>
                    <div ng-messages="SystemForm.No.$error" class="help-block" role="alert">
                        <div ng-message="required">请输入系统编号</div>
                        <div ng-message="unique">系统编号重复</div>
                    </div>
                </div>
                <div class="col-sm-8" ng-class="{ 'has-error' : SystemForm.Name.$invalid }">
                    <label>系统名称</label>
                    <input type="text" name="Name" class="form-control" placeholder="系统名称" ng-model="sys.Item.SysName" required>
                    <div ng-messages="SystemForm.Name.$error" class="help-block" role="alert">
                        <div ng-message="required">请输入系统名称</div>
                    </div>
                </div>
            </div>
            <div class="form-group" ng-class="{ 'has-error' : SystemForm.Com.$invalid }">
                <label>所属组织</label>
                <ui-select name ="Com" ng-disabled="sys.form.index == 1" ng-model="sys.Item.Company" theme="bootstrap" required>
                    <ui-select-match placeholder="选择组织...">{{ $select.selected.CompanyName }}</ui-select-match>
                    <ui-select-choices repeat="item in sys.CompanyList | filter: $select.search">
                        <div ng-bind-html="item.CompanyNo | highlight: $select.search"></div>
                        <small ng-bind-html="item.CompanyName | highlight: $select.search"></small>
                    </ui-select-choices>
                </ui-select>
                <div ng-messages="SystemForm.Com.$error" class="help-block" role="alert">
                    <div ng-message="required">请选择组织</div>
                </div>
            </div>
            <div class="form-group">
                <label>备注</label>
                <textarea class="form-control" rows="6" ng-model="sys.Item.SysDesc" placeholder="输入备注信息"></textarea>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-success" type="button" ng-disabled="SystemForm.$invalid" ng-click="sys.Save()">储存</button>
    <button class="btn btn-warning" type="button" ng-click="sys.cancel()">取消</button>
</div>
<!--<pre>{{ sys.Item | json }}</pre>-->